/**
 * @param {Object|Array} obj
 * @return {Object|Array}
 */
var compactObject = function (obj) {
  if (!obj) return false;
  if (typeof obj !== "object") return obj;

  if (Array.isArray(obj)) {
    const newArray = [];

    for (let i = 0; i < obj.length; i++) {
      obj[i] = compactObject(obj[i]);

      if (obj[i]) newArray.push(obj[i]);
    }

    return newArray;
  }

  const newObject = {};

  for (const key in obj) {
    const currentObject = compactObject(obj[key]);

    if (currentObject) newObject[key] = currentObject;
  }

  return newObject;
};

let obj = [null, 0, false, 1];
console.log(compactObject(obj)); // [1]

obj = { a: null, b: [false, 1] };
console.log(compactObject(obj)); // {"b": [1]}

obj = [null, 0, 5, [0], [false, 16]];
console.log(compactObject(obj)); // [5, [], [16]]

obj = {
  r: { x: null, k: 0, p: 82, y: false, i: 8, l: 39 },
  t: null,
  c: "",
  k: 34,
  f: null,
  d: {
    v: null,
    s: 31,
    x: null,
    m: 46,
    b: 74,
    t: 45,
    a: {
      u: 9,
      c: 94,
      v: 0,
      q: {
        m: true,
        g: "",
        a: 0,
        u: 0,
        j: 88,
        w: true,
        x: null,
        q: null,
        z: 58,
      },
      b: 15,
      k: true,
      i: null,
      e: 84,
      t: false,
    },
    f: "",
    c: [
      95,
      [
        19,
        [
          {
            n: null,
            g: 2,
            s: [
              65,
              29,
              3,
              true,
              "",
              [null, false, 30, 29, true, 66, 91, null, 93, null],
              [null, false, null, 43, 0, 43, true, 53, 50, 38],
              null,
              4,
              "",
            ],
            w: 52,
            h: "",
            o: 8,
            u: "",
          },
          3,
          59,
          null,
          null,
          true,
          74,
          {
            u: 31,
            y: 50,
            v: null,
            o: 44,
            z: true,
            i: {
              m: 84,
              t: 36,
              p: 76,
              y: 34,
              d: 69,
              g: null,
              q: 52,
              f: true,
              v: 0,
            },
            f: {
              y: {
                c: false,
                i: "",
                r: 40,
                z: [
                  93,
                  91,
                  false,
                  8,
                  88,
                  52,
                  [
                    1,
                    27,
                    99,
                    null,
                    20,
                    26,
                    24,
                    [0, 68, 40, 93, 76, false, 0, 58, 0, false],
                    25,
                    80,
                  ],
                  [
                    { j: 0, g: false, r: 36, z: 13, s: true, o: 58, l: 15 },
                    [true, 74, null, 23, true, 71, 82, true, 79, 98],
                    62,
                    false,
                    27,
                    30,
                    ["", 8, 11, 89, 39, true, 16, 88, 15, 91],
                    false,
                    54,
                    26,
                  ],
                  {
                    l: false,
                    m: 72,
                    c: 40,
                    u: [91, 98, 71, null, 0, "", 5, false, null, 19],
                    a: 15,
                    i: 39,
                    k: true,
                    x: 41,
                    e: "",
                  },
                  79,
                ],
                a: [
                  15,
                  52,
                  [
                    false,
                    [false, 12, "", 99, "", 2, 41, true, null, 48],
                    [50, false, false, 39, 0, false, 72, "", 42, 95],
                    23,
                    17,
                    null,
                    93,
                    30,
                    null,
                    4,
                  ],
                  57,
                  18,
                  69,
                  false,
                  "",
                  "",
                  49,
                ],
                n: 7,
                d: {
                  w: [
                    ["", true, 44, "", 16, 76, 77, 70, 24, null],
                    [31, 0, 6, 32, 0, 45, 28, 67, null, true],
                    true,
                    28,
                    61,
                    0,
                    [93, 23, 0, 20, 74, "", 10, 13, false, 82],
                    null,
                    31,
                    81,
                  ],
                  y: 59,
                  s: 36,
                  o: 95,
                  c: null,
                  n: 46,
                  e: 0,
                  q: null,
                  f: null,
                },
              },
              d: 0,
              o: null,
              m: 82,
              l: "",
              b: 48,
              x: 0,
              j: 75,
              q: 0,
            },
          },
          70,
          82,
        ],
        "",
        11,
        false,
        true,
        "",
        [
          12,
          0,
          27,
          40,
          false,
          42,
          15,
          20,
          true,
          [null, true, 10, true, 28, 37, 92, 0, false, null],
        ],
        75,
        8,
      ],
      false,
      0,
      "",
      46,
      [3, null, "", 64, "", null, 92, 9, 53, ""],
      77,
      43,
      null,
    ],
    h: true,
  },
  o: 2,
  y: {
    g: {
      x: 99,
      t: null,
      f: false,
      d: [0, null, 94, 84, 28, null, 2, 66, "", null],
      g: "",
      s: 15,
      y: true,
      l: 80,
      u: 33,
    },
    a: null,
    r: null,
    n: 31,
    u: 99,
    i: 50,
    e: 12,
    b: 0,
  },
  l: [
    18,
    58,
    [
      "",
      null,
      0,
      71,
      false,
      64,
      62,
      [0, 35, true, 88, 0, 99, false, false, 38, 0],
      false,
      { e: 0, i: 54, d: 9, z: 48, u: 44, o: "", j: 16, l: 65, n: 86, b: 0 },
    ],
    [
      "",
      true,
      true,
      0,
      85,
      52,
      { i: true, x: 58, d: false, s: 35, o: 20, f: 73, j: 97, b: 99, l: 85 },
      56,
      [true, 0, 98, 40, null, null, null, 38, 10, true],
      98,
    ],
    63,
    "",
    "",
    21,
    54,
    true,
  ],
  v: "",
};
console.log(compactObject(obj)); // {"d":{"a":{"b":15,"c":94,"e":84,"k":true,"q":{"j":88,"m":true,"w":true,"z":58},"u":9},"b":74,"c":[95,[19,[{"g":2,"o":8,"s":[65,29,3,true,[30,29,true,66,91,93],[43,43,true,53,50,38],4],"w":52},3,59,true,74,{"f":{"b":48,"j":75,"m":82,"y":{"a":[15,52,[[12,99,2,41,true,48],[50,39,72,42,95],23,17,93,30,4],57,18,69,49],"d":{"n":46,"o":95,"s":36,"w":[[true,44,16,76,77,70,24],[31,6,32,45,28,67,true],true,28,61,[93,23,20,74,10,13,82],31,81],"y":59},"n":7,"r":40,"z":[93,91,8,88,52,[1,27,99,20,26,24,[68,40,93,76,58],25,80],[{"l":15,"o":58,"r":36,"s":true,"z":13},[true,74,23,true,71,82,true,79,98],62,27,30,[8,11,89,39,true,16,88,15,91],54,26],{"a":15,"c":40,"i":39,"k":true,"m":72,"u":[91,98,71,5,19],"x":41},79]}},"i":{"d":69,"f":true,"m":84,"p":76,"q":52,"t":36,"y":34},"o":44,"u":31,"y":50,"z":true},70,82],11,true,[12,27,40,42,15,20,true,[true,10,true,28,37,92]],75,8],46,[3,64,92,9,53],77,43],"h":true,"m":46,"s":31,"t":45},"k":34,"l":[18,58,[71,64,62,[35,true,88,99,38],{"d":9,"i":54,"j":16,"l":65,"n":86,"u":44,"z":48}],[true,true,85,52,{"b":99,"f":73,"i":true,"j":97,"l":85,"o":20,"s":35,"x":58},56,[true,98,40,38,10,true],98],63,21,54,true],"o":2,"r":{"i":8,"l":39,"p":82},"y":{"e":12,"g":{"d":[94,84,28,2,66],"l":80,"s":15,"u":33,"x":99,"y":true},"i":50,"n":31,"u":99}}

// {"r":{"x":null,"k":0,"p":82,"y":false,"i":8,"l":39},"t":null,"c":"","k":34,"f":null,"d":{"v":null,"s":31,"x":null,"m":46,"b":74,"t":45,"a":{"u":9,"c":94,"v":0,"q":{"m":true,"g":"","a":0,"u":0,"j":88,"w":true,"x":null,"q":null,"z":58},"b":15,"k":true,"i":null,"e":84,"t":false},"f":"","c":[95,[19,[{"n":null,"g":2,"s":[65,29,3,true,"",[null,false,30,29,true,66,91,null,93,null],[null,false,null,43,0,43,true,53,50,38],null,4,""],"w":52,"h":"","o":8,"u":""},3,59,null,null,true,74,{"u":31,"y":50,"v":null,"o":44,"z":true,"i":{"m":84,"t":36,"p":76,"y":34,"d":69,"g":null,"q":52,"f":true,"v":0},"f":{"y":{"c":false,"i":"","r":40,"z":[93,91,false,8,88,52,[1,27,99,null,20,26,24,[0,68,40,93,76,false,0,58,0,false],25,80],[{"j":0,"g":false,"r":36,"z":13,"s":true,"o":58,"l":15},[true,74,null,23,true,71,82,true,79,98],62,false,27,30,["",8,11,89,39,true,16,88,15,91],false,54,26],{"l":false,"m":72,"c":40,"u":[91,98,71,null,0,"",5,false,null,19],"a":15,"i":39,"k":true,"x":41,"e":""},79],"a":[15,52,[false,[false,12,"",99,"",2,41,true,null,48],[50,false,false,39,0,false,72,"",42,95],23,17,null,93,30,null,4],57,18,69,false,"","",49],"n":7,"d":{"w":[["",true,44,"",16,76,77,70,24,null],[31,0,6,32,0,45,28,67,null,true],true,28,61,0,[93,23,0,20,74,"",10,13,false,82],null,31,81],"y":59,"s":36,"o":95,"c":null,"n":46,"e":0,"q":null,"f":null}},"d":0,"o":null,"m":82,"l":"","b":48,"x":0,"j":75,"q":0}},70,82],"",11,false,true,"",[12,0,27,40,false,42,15,20,true,[null,true,10,true,28,37,92,0,false,null]],75,8],false,0,"",46,[3,null,"",64,"",null,92,9,53,""],77,43,null],"h":true},"o":2,"y":{"g":{"x":99,"t":null,"f":false,"d":[0,null,94,84,28,null,2,66,"",null],"g":"","s":15,"y":true,"l":80,"u":33},"a":null,"r":null,"n":31,"u":99,"i":50,"e":12,"b":0},"l":[18,58,["",null,0,71,false,64,62,[0,35,true,88,0,99,false,false,38,0],false,{"e":0,"i":54,"d":9,"z":48,"u":44,"o":"","j":16,"l":65,"n":86,"b":0}],["",true,true,0,85,52,{"i":true,"x":58,"d":false,"s":35,"o":20,"f":73,"j":97,"b":99,"l":85},56,[true,0,98,40,null,null,null,38,10,true],98],63,"","",21,54,true],"v":""}
// {"r":{"p":82,"i":8,"l":39},"k":34,"d":{"s":31,"m":46,"b":74,"t":45,"a":{"u":9,"c":94,"q":{"m":true,"j":88,"w":true,"z":58},"b":15,"k":true,"e":84},"c":[95,[19,[{"n":null,"g":2,"s":[65,29,3,true,"",[null,false,30,29,true,66,91,null,93,null],[null,false,null,43,0,43,true,53,50,38],null,4,""],"w":52,"h":"","o":8,"u":""},3,59,true,74,{"u":31,"y":50,"v":null,"o":44,"z":true,"i":{"m":84,"t":36,"p":76,"y":34,"d":69,"g":null,"q":52,"f":true,"v":0},"f":{"y":{"c":false,"i":"","r":40,"z":[93,91,false,8,88,52,[1,27,99,null,20,26,24,[0,68,40,93,76,false,0,58,0,false],25,80],[{"j":0,"g":false,"r":36,"z":13,"s":true,"o":58,"l":15},[true,74,null,23,true,71,82,true,79,98],62,false,27,30,["",8,11,89,39,true,16,88,15,91],false,54,26],{"l":false,"m":72,"c":40,"u":[91,98,71,null,0,"",5,false,null,19],"a":15,"i":39,"k":true,"x":41,"e":""},79],"a":[15,52,[false,[false,12,"",99,"",2,41,true,null,48],[50,false,false,39,0,false,72,"",42,95],23,17,null,93,30,null,4],57,18,69,false,"","",49],"n":7,"d":{"w":[["",true,44,"",16,76,77,70,24,null],[31,0,6,32,0,45,28,67,null,true],true,28,61,0,[93,23,0,20,74,"",10,13,false,82],null,31,81],"y":59,"s":36,"o":95,"c":null,"n":46,"e":0,"q":null,"f":null}},"d":0,"o":null,"m":82,"l":"","b":48,"x":0,"j":75,"q":0}},70,82],11,true,[12,27,40,42,15,20,true,[true,10,true,28,37,92]],75,8],46,[3,64,92,9,53],77,43],"h":true},"o":2,"y":{"g":{"x":99,"d":[94,84,28,2,66],"s":15,"y":true,"l":80,"u":33},"n":31,"u":99,"i":50,"e":12},"l":[18,58,[71,64,62,[35,true,88,99,38],{"e":0,"i":54,"d":9,"z":48,"u":44,"o":"","j":16,"l":65,"n":86,"b":0}],[true,true,85,52,{"i":true,"x":58,"d":false,"s":35,"o":20,"f":73,"j":97,"b":99,"l":85},56,[true,98,40,38,10,true],98],63,21,54,true]}
// {"d":{"a":{"b":15,"c":94,"e":84,"k":true,"q":{"j":88,"m":true,"w":true,"z":58},"u":9},"b":74,"c":[95,[19,[{"g":2,"o":8,"s":[65,29,3,true,[30,29,true,66,91,93],[43,43,true,53,50,38],4],"w":52},3,59,true,74,{"f":{"b":48,"j":75,"m":82,"y":{"a":[15,52,[[12,99,2,41,true,48],[50,39,72,42,95],23,17,93,30,4],57,18,69,49],"d":{"n":46,"o":95,"s":36,"w":[[true,44,16,76,77,70,24],[31,6,32,45,28,67,true],true,28,61,[93,23,20,74,10,13,82],31,81],"y":59},"n":7,"r":40,"z":[93,91,8,88,52,[1,27,99,20,26,24,[68,40,93,76,58],25,80],[{"l":15,"o":58,"r":36,"s":true,"z":13},[true,74,23,true,71,82,true,79,98],62,27,30,[8,11,89,39,true,16,88,15,91],54,26],{"a":15,"c":40,"i":39,"k":true,"m":72,"u":[91,98,71,5,19],"x":41},79]}},"i":{"d":69,"f":true,"m":84,"p":76,"q":52,"t":36,"y":34},"o":44,"u":31,"y":50,"z":true},70,82],11,true,[12,27,40,42,15,20,true,[true,10,true,28,37,92]],75,8],46,[3,64,92,9,53],77,43],"h":true,"m":46,"s":31,"t":45},"k":34,"l":[18,58,[71,64,62,[35,true,88,99,38],{"d":9,"i":54,"j":16,"l":65,"n":86,"u":44,"z":48}],[true,true,85,52,{"b":99,"f":73,"i":true,"j":97,"l":85,"o":20,"s":35,"x":58},56,[true,98,40,38,10,true],98],63,21,54,true],"o":2,"r":{"i":8,"l":39,"p":82},"y":{"e":12,"g":{"d":[94,84,28,2,66],"l":80,"s":15,"u":33,"x":99,"y":true},"i":50,"n":31,"u":99}}
